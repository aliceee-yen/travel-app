<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>2026 è·¨åœ‹å†’éšª</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root { --bg-paper: #fffdf5; --ink: #2c2c2c; }
        body { font-family: 'Noto Sans TC', sans-serif; background-color: var(--bg-paper); color: var(--ink); -webkit-tap-highlight-color: transparent; padding-bottom: 110px; }
        .font-header { font-family: 'ZCOOL KuaiLe', cursive; }
        
        /* å…ƒä»¶æ¨£å¼ */
        .sketch-box { background: white; border: 2px solid var(--ink); border-radius: 8px; box-shadow: 2px 2px 0px rgba(0,0,0,0.1); }
        .custom-checkbox { width: 1rem; height: 1rem; accent-color: var(--ink); }
        .checked-item { text-decoration: line-through; color: #9ca3af; }

        /* åˆ†é å‹•ç•« */
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.2s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .modal-overlay { background: rgba(0,0,0,0.85); backdrop-filter: blur(4px); z-index: 60; }
        
        .booking-tag { position: absolute; top: -10px; left: 10px; background: var(--ink); color: white; padding: 2px 8px; font-size: 10px; border-radius: 4px; font-weight: bold; }
        .photo-row { display: flex; gap: 10px; align-items: center; border: 2px solid #eee; padding: 8px; border-radius: 8px; background: white; margin-bottom: 8px; }
        .photo-thumb { width: 80px; height: 80px; object-fit: cover; border-radius: 4px; border: 1px solid #ddd; cursor: zoom-in; flex-shrink: 0; }
    </style>
</head>
<body>

    <header class="bg-white border-b-2 border-gray-800 pt-12 pb-3 px-4 sticky top-0 z-40 flex justify-between items-center shadow-sm">
        <div>
            <h1 class="text-xl font-header tracking-wider">ğŸ¦• è·¨åœ‹å†’éšª 2026</h1>
            <div class="text-[10px] text-gray-400 font-bold">YUNLIN â” BUSAN â” KYUSHU</div>
        </div>
        <button onclick="resetData()" class="text-[10px] text-gray-300 border px-2 py-1 rounded">é‡ç½®</button>
    </header>

    <main class="p-4 max-w-lg mx-auto">
        
        <section id="plan" class="tab-content active">
            <div class="flex overflow-x-auto gap-2 pb-2 mb-2 no-scrollbar" id="dayNav"></div>
            <div id="weatherBoard" class="mb-3 bg-blue-50 p-2 rounded border border-blue-100 flex justify-between items-center hidden">
                <div class="flex items-center gap-2">
                    <div id="w-icon" class="text-xl">â›…</div>
                    <div class="flex items-baseline gap-1">
                        <span id="w-city" class="text-[10px] font-bold text-gray-400 uppercase">LOC</span>
                        <span id="w-temp" class="text-lg font-black text-gray-800">--</span>
                        <span class="text-xs">Â°C</span>
                    </div>
                </div>
                <div id="w-desc" class="text-[10px] font-bold text-blue-600 bg-white px-2 py-0.5 rounded">æ›´æ–°ä¸­</div>
            </div>
            <div id="dailyContainer" class="space-y-3"></div>
            <button onclick="openEditModal('trip')" class="w-full mt-4 mb-6 py-2 border-2 border-dashed border-gray-300 text-gray-400 rounded text-sm font-bold hover:border-gray-800 hover:text-gray-800"><i class="fa-solid fa-plus"></i> æ–°å¢è¡Œç¨‹</button>
            
            <div class="sketch-box p-4 bg-gray-50 mt-6 relative">
                <div class="absolute -top-3 left-3 bg-green-600 text-white text-[10px] px-2 py-0.5 rounded font-bold border border-black shadow-sm">ğŸ“… ä»Šæ—¥æ¶ˆè²»</div>
                <div class="flex justify-between items-end mb-3 mt-1 px-1">
                    <div class="text-xs text-gray-400 font-bold">ç•¶æ—¥ç¸½è¨ˆ</div>
                    <div class="text-xl font-black text-green-700" id="dailyTotalDisplay">NT$ 0</div>
                </div>
                <div class="flex items-center bg-white border-2 border-gray-200 rounded-lg overflow-hidden shadow-sm h-12">
                    <input id="quickExpDesc" type="text" placeholder="å“é …" class="flex-1 p-3 text-sm outline-none bg-transparent min-w-0 h-full">
                    <select id="quickExpCurr" class="h-full px-2 text-xs font-bold outline-none bg-transparent text-gray-500 cursor-pointer hover:bg-gray-50 border-l border-r border-gray-100">
                        <option value="KR">â‚©</option>
                        <option value="JP">Â¥</option>
                    </select>
                    <input id="quickExpAmt" type="number" placeholder="é‡‘é¡" class="w-20 p-3 text-sm outline-none bg-transparent text-center h-full">
                    <button onclick="addExpenseFromPlan()" class="bg-gray-800 text-white h-full px-5 hover:bg-black transition-colors flex items-center justify-center border-l border-gray-800">
                        <i class="fa-solid fa-check text-sm"></i>
                    </button>
                </div>
                <div id="dailyExpenseList" class="space-y-2 text-sm text-gray-600 px-1 mt-3"></div>
            </div>
        </section>

        <section id="shopping" class="tab-content">
            <h2 class="font-header text-lg mb-3 pl-2 border-l-4 border-yellow-400">ğŸ›ï¸ å¿…è²·æ¸…å–®</h2>
            <div class="mb-6">
                <div class="flex gap-2 mb-2">
                    <input id="shopInput" type="text" placeholder="è¼¸å…¥æ–‡å­—é …ç›®..." class="flex-1 p-2 sketch-box outline-none text-sm">
                    <button onclick="addShopItem()" class="bg-yellow-400 px-3 rounded border-2 border-gray-800 shadow-sm font-bold text-sm"><i class="fa-solid fa-pen"></i></button>
                </div>
                <div id="shopList" class="space-y-1 max-h-40 overflow-y-auto"></div> 
            </div>
            <hr class="border-dashed border-gray-300 mb-4">
            <div>
                <div class="flex justify-between items-center mb-2">
                    <h3 class="font-bold text-sm text-gray-500"><i class="fa-regular fa-image"></i> ç…§ç‰‡å‚™è¨»ç‰†</h3>
                    <label class="bg-gray-800 text-white px-3 py-1 rounded text-xs cursor-pointer shadow active:scale-95"><i class="fa-solid fa-camera"></i> æ–°å¢<input type="file" id="imgInput" accept="image/*" class="hidden" onchange="handleAddImage('shop')"></label>
                </div>
                <div class="text-[10px] text-gray-400 mb-2">* é»æ“Šç…§ç‰‡å¯æ”¾å¤§ï¼Œé»æ“Šæ–‡å­—å¯ç·¨è¼¯</div>
                <div id="imageGrid"></div>
            </div>
        </section>

        <section id="traffic" class="tab-content">
            <h2 class="font-header text-lg mb-4 pl-2 border-l-4 border-blue-400">âœˆï¸ äº¤é€šè³‡è¨Š (æ©Ÿç¥¨/èˆ¹/è»Š)</h2>
            <div id="trafficList" class="space-y-4 mt-2"></div>
            <button onclick="openBookingModal('traffic')" class="w-full mt-4 py-2 border border-gray-300 text-gray-400 rounded text-sm hover:bg-gray-50"><i class="fa-solid fa-plus"></i> æ–°å¢äº¤é€š</button>
        </section>

        <section id="stay" class="tab-content">
            <h2 class="font-header text-lg mb-4 pl-2 border-l-4 border-indigo-400">ğŸ¨ ä½å®¿è³‡è¨Š</h2>
            <div id="stayList" class="space-y-4 mt-2"></div>
            <button onclick="openBookingModal('stay')" class="w-full mt-4 py-2 border border-gray-300 text-gray-400 rounded text-sm hover:bg-gray-50"><i class="fa-solid fa-plus"></i> æ–°å¢ä½å®¿</button>
        </section>

        <section id="diary" class="tab-content">
            <h2 class="font-header text-lg mb-3 pl-2 border-l-4 border-pink-400">ğŸ“” æ—…éŠæ—¥è¨˜</h2>
            <div class="sketch-box p-3 mb-4 bg-pink-50">
                <textarea id="diaryInput" rows="3" placeholder="ä»Šå¤©ç™¼ç”Ÿäº†ä»€éº¼æœ‰è¶£çš„äº‹..." class="w-full p-2 outline-none text-sm resize-none bg-transparent"></textarea>
                <div id="diaryImgPreview" class="hidden mt-2 relative w-16 h-16">
                    <img id="dPreview" class="w-full h-full object-cover rounded border border-pink-200">
                    <button onclick="clearDiaryImg()" class="absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-[10px] flex items-center justify-center">âœ•</button>
                </div>
                <div class="flex justify-between items-center mt-2 pt-2 border-t border-pink-100">
                    <label class="text-pink-400 cursor-pointer p-1"><i class="fa-solid fa-camera"></i><input type="file" id="diaryImgInput" accept="image/*" class="hidden" onchange="handleDiaryImg()"></label>
                    <button onclick="addDiary()" class="bg-pink-500 text-white px-4 py-1 rounded text-sm font-bold shadow-sm">ä¿å­˜</button>
                </div>
            </div>
            <div id="diaryList" class="space-y-3"></div>
        </section>

        <section id="todo" class="tab-content">
            <h2 class="font-header text-lg mb-3 pl-2 border-l-4 border-orange-400">âœ… å¾…è¾¦äº‹é …</h2>
            <div class="flex gap-2 mb-4">
                <input id="todoInput" type="text" placeholder="ä¾‹å¦‚: é—œç“¦æ–¯ã€é ˜ç¶²å¡..." class="flex-1 p-2 sketch-box outline-none text-sm">
                <button onclick="addTodo()" class="bg-orange-400 px-3 rounded border-2 border-gray-800 shadow-sm font-bold text-sm"><i class="fa-solid fa-plus"></i></button>
            </div>
            <div id="todoList" class="space-y-2"></div>
        </section>

        <section id="wallet" class="tab-content">
            <h2 class="font-header text-lg mb-3 pl-2 border-l-4 border-green-500">ğŸ’° åŒ¯ç‡è¨ˆç®—æ©Ÿ</h2>
            <div class="bg-gray-800 text-white p-5 rounded-xl shadow-lg mb-6 relative">
                <div class="flex justify-between items-center mb-6">
                    <span class="text-xs font-bold text-gray-400">è³¼ç‰©è©¦ç®— (ä¸ç´€éŒ„)</span>
                    <div class="flex bg-gray-700 rounded p-1 gap-1">
                        <button onclick="setCurrency('KR')" id="btn-calc-kr" class="text-xs px-3 py-1 rounded bg-blue-500 text-white transition-all">éŸ“å¹£</button>
                        <button onclick="setCurrency('JP')" id="btn-calc-jp" class="text-xs px-3 py-1 rounded text-gray-300 transition-all">æ—¥å¹£</button>
                    </div>
                </div>
                <div class="flex items-baseline gap-2">
                    <span class="text-2xl font-mono text-gray-400" id="currencySymbol">â‚©</span>
                    <input id="calcInput" type="number" class="bg-transparent text-5xl font-bold w-full outline-none text-white placeholder-gray-600" placeholder="0">
                </div>
                <div class="mt-4 pt-3 border-t border-gray-600 text-right">
                    <div class="text-xs text-gray-400 mb-1">ç´„å°å¹£</div>
                    <div class="text-green-400 font-bold text-3xl">NT$ <span id="calcResult">0</span></div>
                </div>
            </div>
        </section>

        <section id="translate" class="tab-content">
            <h2 class="font-header text-lg mb-3 pl-2 border-l-4 border-purple-500">ğŸ—£ï¸ ç¿»è­¯å°å¹«æ‰‹</h2>
            <div class="relative mb-4">
                <input id="transInput" type="text" placeholder="è¼¸å…¥ä¸­æ–‡å¿«é€ŸæŸ¥è©¢..." class="w-full p-3 pr-16 sketch-box outline-none text-sm bg-purple-50 focus:bg-white transition-colors">
                <button onclick="quickTranslate()" class="absolute right-1.5 top-1.5 bottom-1.5 bg-purple-600 text-white px-3 rounded font-bold text-xs shadow hover:bg-purple-700 active:scale-95 transition-all">GO</button>
            </div>
            <div class="flex gap-2 mb-3">
                <button onclick="renderPhrases('KR')" id="btn-lang-kr" class="flex-1 py-1.5 rounded text-sm font-bold border bg-blue-100 text-blue-800">ğŸ‡°ğŸ‡· éŸ“èª</button>
                <button onclick="renderPhrases('JP')" id="btn-lang-jp" class="flex-1 py-1.5 rounded text-sm font-bold border bg-white text-gray-400">ğŸ‡¯ğŸ‡µ æ—¥èª</button>
            </div>
            <div id="phraseList" class="space-y-2"></div>
        </section>

        <section id="info" class="tab-content">
            <h2 class="font-header text-lg mb-3 pl-2 border-l-4 border-gray-500">â„¹ï¸ å¯¦ç”¨ç­†è¨˜</h2>
            <div id="infoList" class="space-y-3"></div>
            <button onclick="openDedicatedInfoModal()" class="w-full mt-4 py-3 border-2 border-dashed border-gray-300 text-gray-400 rounded-lg text-sm hover:border-gray-500 hover:text-gray-600 font-bold transition-all relative z-10"><i class="fa-solid fa-plus"></i> æ–°å¢ç­†è¨˜</button>
        </section>

    </main>

    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-200 py-3 pb-6 z-50">
        <div class="flex overflow-x-auto no-scrollbar px-4 gap-4 items-center">
            <button onclick="switchTab('plan')" class="nav-btn flex-shrink-0 flex flex-col items-center w-12 text-gray-800"><i class="fa-solid fa-map-location-dot text-xl mb-1"></i><b class="text-[10px]">è¡Œç¨‹</b></button>
            <button onclick="switchTab('shopping')" class="nav-btn flex-shrink-0 flex flex-col items-center w-12 text-gray-400"><i class="fa-solid fa-cart-shopping text-xl mb-1"></i><b class="text-[10px]">å¾…è³¼</b></button>
            <button onclick="switchTab('traffic')" class="nav-btn flex-shrink-0 flex flex-col items-center w-12 text-gray-400"><i class="fa-solid fa-plane text-xl mb-1"></i><b class="text-[10px]">äº¤é€š</b></button>
            <button onclick="switchTab('stay')" class="nav-btn flex-shrink-0 flex flex-col items-center w-12 text-gray-400"><i class="fa-solid fa-hotel text-xl mb-1"></i><b class="text-[10px]">ä½å®¿</b></button>
            <button onclick="switchTab('diary')" class="nav-btn flex-shrink-0 flex flex-col items-center w-12 text-gray-400"><i class="fa-solid fa-book text-xl mb-1"></i><b class="text-[10px]">æ—¥è¨˜</b></button>
            <button onclick="switchTab('todo')" class="nav-btn flex-shrink-0 flex flex-col items-center w-12 text-gray-400"><i class="fa-solid fa-check-square text-xl mb-1"></i><b class="text-[10px]">å¾…è¾¦</b></button>
            <button onclick="switchTab('wallet')" class="nav-btn flex-shrink-0 flex flex-col items-center w-12 text-gray-400"><i class="fa-solid fa-calculator text-xl mb-1"></i><b class="text-[10px]">éŒ¢åŒ…</b></button>
            <button onclick="switchTab('translate')" class="nav-btn flex-shrink-0 flex flex-col items-center w-12 text-gray-400"><i class="fa-solid fa-language text-xl mb-1"></i><b class="text-[10px]">ç¿»è­¯</b></button>
            <button onclick="switchTab('info')" class="nav-btn flex-shrink-0 flex flex-col items-center w-12 text-gray-400"><i class="fa-solid fa-circle-info text-xl mb-1"></i><b class="text-[10px]">è³‡è¨Š</b></button>
        </div>
    </nav>

    <div id="editModal" class="fixed inset-0 modal-overlay hidden flex items-center justify-center p-4">
        <div class="bg-white w-full max-w-sm p-5 rounded-lg shadow-2xl border-2 border-gray-800">
            <h3 class="font-header text-lg mb-3" id="modalTitle">ç·¨è¼¯è¡Œç¨‹</h3>
            <input type="hidden" id="editIndex">
            <div class="space-y-3">
                <input id="modalTime" type="time" class="w-full p-2 border rounded bg-gray-50">
                <input id="modalAct" type="text" placeholder="æ¨™é¡Œ" class="w-full p-2 border rounded">
                <textarea id="modalNote" rows="3" placeholder="å‚™è¨»..." class="w-full p-2 border rounded"></textarea>
            </div>
            <div class="flex gap-2 mt-4">
                <button onclick="closeModal('editModal')" class="flex-1 py-2 bg-gray-100 rounded text-gray-500 text-sm">å–æ¶ˆ</button>
                <button onclick="saveItem()" class="flex-1 py-2 bg-gray-800 text-white rounded font-bold text-sm">å„²å­˜</button>
            </div>
            <button onclick="deleteItem()" id="btnDelete" class="w-full mt-2 text-red-500 text-xs py-2 hidden">åˆªé™¤</button>
        </div>
    </div>

    <div id="bookingModal" class="fixed inset-0 modal-overlay hidden flex items-center justify-center p-4">
        <div class="bg-white w-full max-w-sm p-5 rounded-lg shadow-2xl border-2 border-gray-800">
            <h3 class="font-header text-lg mb-3">ç·¨è¼¯è³‡è¨Š</h3>
            <input type="hidden" id="bkType"><input type="hidden" id="bkId">
            <div class="space-y-3">
                <input id="bkTitle" type="text" placeholder="æ¨™é¡Œ (å¿…å¡«)" class="w-full p-2 border rounded font-bold">
                <input id="bkSub" type="text" placeholder="å…§å®¹ / å‰¯æ¨™é¡Œ" class="w-full p-2 border rounded">
                <textarea id="bkNote" rows="3" placeholder="å‚™è¨»..." class="w-full p-2 border rounded"></textarea>
            </div>
            <div class="flex gap-2 mt-4">
                <button onclick="closeModal('bookingModal')" class="flex-1 py-2 bg-gray-100 rounded text-gray-500 text-sm">å–æ¶ˆ</button>
                <button onclick="saveBooking()" class="flex-1 py-2 bg-gray-800 text-white rounded font-bold text-sm">å„²å­˜</button>
            </div>
            <button onclick="deleteBooking()" id="bkDelete" class="w-full mt-2 text-red-500 text-xs py-2 hidden">åˆªé™¤</button>
        </div>
    </div>

    <div id="infoModal" class="fixed inset-0 modal-overlay hidden flex items-center justify-center p-4">
        <div class="bg-white w-full max-w-sm p-5 rounded-lg shadow-2xl border-2 border-gray-800">
            <h3 class="font-header text-lg mb-3" id="infoTitle">ç·¨è¼¯ç­†è¨˜</h3>
            <input type="hidden" id="infoIndex">
            <div class="space-y-3">
                <input id="infoTitleInput" type="text" placeholder="æ¨™é¡Œ (ä¾‹å¦‚: å ±è­¦é›»è©±)" class="w-full p-2 border rounded font-bold">
                <textarea id="infoContentInput" rows="3" placeholder="å…§å®¹..." class="w-full p-2 border rounded"></textarea>
            </div>
            <div class="flex gap-2 mt-4">
                <button onclick="closeModal('infoModal')" class="flex-1 py-2 bg-gray-100 rounded text-gray-500 text-sm">å–æ¶ˆ</button>
                <button onclick="saveInfo()" class="flex-1 py-2 bg-gray-800 text-white rounded font-bold text-sm">å„²å­˜</button>
            </div>
            <button onclick="deleteInfoModal()" id="infoDelete" class="w-full mt-2 text-red-500 text-xs py-2 hidden">åˆªé™¤</button>
        </div>
    </div>

    <div id="imgModal" class="fixed inset-0 modal-overlay hidden z-[70] flex items-center justify-center p-2" onclick="closeImgModal()">
        <img id="zoomImg" class="max-w-full max-h-[90vh] rounded shadow-2xl object-contain">
    </div>

    <script>
        // --- DATA ---
        const defaultTrip = [
            { d: "D0", date: "2/13", city: "Yunlin", lat: 23.7, lon: 120.4, country: "TW", items: [{ time: "21:30", act: "é›²æ—è™å°¾å‡ºç™¼", note: "é ç´„è¨ˆç¨‹è»Š" }, { time: "22:16", act: "é›²æ—é«˜éµ", note: "æœ«ç­è»Š" }]},
            { d: "D1", date: "2/14", city: "Busan", lat: 35.17, lon: 129.07, country: "KR", items: [{ time: "06:10", act: "é‡‘æµ·æ©Ÿå ´", note: "æ›éŒ¢/Q-CODE" }, { time: "08:00", act: "æ¾äº­ä¸‰ä»£è±¬è‚‰æ¹¯é£¯", note: "è¥¿é¢å¸‚å ´" }]},
            { d: "D2", date: "2/15", city: "Busan", lat: 35.17, lon: 129.07, country: "KR", items: [{ time: "10:30", act: "å¤©ç©ºè† å›Šåˆ—è»Š", note: "å°¾æµ¦å‡ºç™¼" }, { time: "13:00", act: "æµ·ç†åœ˜è·¯", note: "é€›è¡—" }]},
            { d: "D3", date: "2/16", city: "Busan", lat: 35.1, lon: 129.0, country: "KR", items: [{ time: "09:30", act: "ç”˜å·æ´æ–‡åŒ–æ‘", note: "å°ç‹å­" }, { time: "17:00", act: "é‡œå±±æ¸¯ç™»èˆ¹", note: "æ–°å±±èŒ¶èŠ±è™Ÿ" }]},
            { d: "D4", date: "2/17", city: "Nagasaki", lat: 32.75, lon: 129.87, country: "JP", items: [{ time: "09:00", act: "åšå¤šè»Šç«™", note: "è²·ç¥¨" }, { time: "11:30", act: "é•·å´", note: "Check-in" }]},
            { d: "D5", date: "2/18", city: "Nagasaki", lat: 32.75, lon: 129.87, country: "JP", items: [{ time: "10:15", act: "ä¼éµæ°´æ—é¤¨", note: "æ­å·´å£«" }, { time: "17:15", act: "çœ¼é¡æ©‹", note: "æ‰¾æ„›å¿ƒçŸ³" }]},
            { d: "D6", date: "2/19", city: "Hita", lat: 33.32, lon: 130.93, country: "JP", items: [{ time: "08:30", act: "NIPPON å–è»Š", note: "æª¢æŸ¥é›ªèƒ" }, { time: "17:00", act: "å¤©ç€¨æº«æ³‰", note: "æºªä»™é–£" }]},
            { d: "D7", date: "2/20", city: "Yufu", lat: 33.26, lon: 131.36, country: "JP", items: [{ time: "09:40", act: "ä¹å·è‡ªç„¶å‹•ç‰©åœ’", note: "Jungle Bus" }, { time: "15:45", act: "é‡‘é±—æ¹–", note: "æ™¨éœ§" }]},
            { d: "D8", date: "2/21", city: "Oita", lat: 33.23, lon: 131.61, country: "JP", items: [{ time: "12:30", act: "è±å¾ŒèŒ¶å±‹", note: "å¤©å©¦ç¾…" }, { time: "16:30", act: "å¤§åˆ†æ©Ÿå ´", note: "å›å°ç£" }]}
        ];
        const defaultInfo = [{ title: "æ—¥æœ¬å ±è­¦", text: "110 (æ•‘è­· 119)", color: "bg-red-50" }, { title: "éŸ“åœ‹å ±è­¦", text: "112 (æ•‘è­· 119)", color: "bg-blue-50" }, { title: "æ—¥æœ¬åŠ æ²¹", text: "Regular Man-tan (ç´…)", color: "bg-gray-50" }, { title: "æ—¥æœ¬å°èˆª", text: "è«‹å¹«æˆ‘è¨­ MapCode", color: "bg-gray-50" }];
        const defaultTraffic = [
            {id:1, title:"æ¿Ÿå·èˆªç©º 7C6164", sub:"TPE 02:50 â” PUS 06:10", note:"2/14 (å…­) | ä»£è™Ÿ: D4ZK4L | 4äºº"},
            {id:2, title:"æ–°å±±èŒ¶èŠ±è™Ÿ (æ¸¡è¼ª)", sub:"é‡œå±±æ¸¯ â” åšå¤šæ¸¯", note:"2/16 (ä¸€) | 2ç­‰+ç‰¹ç­‰å®¤ | è²»ç”¨: $14,250"},
            {id:3, title:"NIPPON Rent-A-Car", sub:"AMU PLAZA æ–°é¤¨ 1F", note:"Day 6 08:30 å–è»Šã€‚éœ€é›ªèƒ/ETC"},
            {id:4, title:"å°ç£è™èˆª IT751", sub:"OIT 16:30 â” TPE 18:10", note:"2/21 (å…­) | ä»£è™Ÿ: V82MGZ | å¤§åˆ†æ©Ÿå ´"}
        ];
        const defaultStay = [
            {id:1, title:"é‡œå±±è¥¿é¢é£¯åº—", sub:"é‡œå±±", note:"Day 1-3"},
            {id:2, title:"JRä¹å·é£¯åº—é•·å´", sub:"é•·å´è»Šç«™å…§", note:"Day 4-5 (è¨˜å¾—ç´¢å–æŠ˜æ‰£å¡)"},
            {id:3, title:"å¤©ç€¨æº«æ³‰ æºªä»™é–£", sub:"æ—¥ç”°å¸‚", note:"Day 6 (é›»è©±: 0973-57-2355)"}
        ];
        const phrases = { KR: [{t:"ä½ å¥½",o:"ì•ˆë…•í•˜ì„¸ìš”"},{t:"è¬è¬",o:"ê°ì‚¬í•©ë‹ˆë‹¤"},{t:"å¤šå°‘éŒ¢?",o:"ì–¼ë§ˆì˜ˆìš”?"},{t:"å»æ‰€?",o:"í™”ì¥ì‹¤?"},{t:"ä¸è¾£",o:"ì•ˆ ë§µê²Œ"}], JP: [{t:"ä½ å¥½",o:"ã“ã‚“ã«ã¡ã¯"},{t:"è¬è¬",o:"ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™"},{t:"å¤šå°‘éŒ¢?",o:"ã„ãã‚‰ã§ã™ã‹"},{t:"å»æ‰€?",o:"ãƒˆã‚¤ãƒ¬ã¯ã©ã“ã§ã™ã‹"},{t:"åŠ æ»¿æ²¹",o:"ãƒ¬ã‚®ãƒ¥ãƒ©ãƒ¼æº€ã‚¿ãƒ³"}] };
        const RATES = { 'KR': 0.024, 'JP': 0.22, 'TW': 1 };
        
        let tripData = [], infoData = [], bookings = {traffic:[], stay:[]}, diary=[], todos=[];
        let curDay = 0, curLang = 'KR', curRate = 0.024, tempDiaryImg = null;

        function init() {
            try {
                tripData = getStorage('trip_data_v14', defaultTrip);
                // Force Clean Start for Info to Fix Bugs
                infoData = getStorage('trip_info_v14_clean', defaultInfo);
                
                bookings.traffic = getStorage('trip_traffic_v14', defaultTraffic);
                bookings.stay = getStorage('trip_stay_v14', defaultStay);
                diary = getStorage('trip_diary_v14', []);
                todos = getStorage('trip_todo_v14', [{id:1, txt:"ç·šä¸ŠæŠ•ä¿æ—…å¹³éšª", done:false},{id:2, txt:"é–‹é€šæ¼«éŠ/ç¶²å¡", done:false}]);

                renderDayNav(); renderDaily(0); renderShopList(); renderShopImages(); renderInfoList(); renderPhrases('KR');
                renderBookings('traffic'); renderBookings('stay'); renderDiary(); renderTodo();
                document.getElementById('calcInput').addEventListener('input', (e) => { document.getElementById('calcResult').innerText = Math.round(e.target.value * curRate).toLocaleString(); });
            } catch(e) { console.log("Init Error", e); }
        }

        // --- 1. Plan ---
        function renderDayNav() { document.getElementById('dayNav').innerHTML = tripData.map((d, i) => `<button onclick="renderDaily(${i})" class="flex-shrink-0 px-3 py-1.5 rounded text-xs font-bold border transition-all ${i === curDay ? 'bg-gray-800 text-white border-gray-800' : 'bg-white text-gray-400 border-gray-200'}">${d.d} ${d.date}</button>`).join(''); }
        function renderDaily(idx) {
            curDay = idx; renderDayNav(); const day = tripData[idx]; fetchWeather(day.lat, day.lon, day.city);
            if(day.country==='JP'){ setCurrency('JP'); renderPhrases('JP'); document.getElementById('quickExpCurr').value='JP'; }
            if(day.country==='KR'){ setCurrency('KR'); renderPhrases('KR'); document.getElementById('quickExpCurr').value='KR'; }
            document.getElementById('dailyContainer').innerHTML = day.items.map((item, i) => `
                <div class="sketch-box p-3 relative bg-white" onclick="openEditModal('trip', ${i})">
                    <div class="flex justify-between items-start mb-1"><span class="bg-yellow-300 text-[10px] font-black px-1.5 py-0.5 rounded border border-black">${item.time}</span></div>
                    <div class="text-base font-bold text-blue-700 underline decoration-blue-300 underline-offset-4 cursor-pointer mb-1" onclick="event.stopPropagation(); openMap('${item.act}', '${day.country}')">${item.act} <i class="fa-solid fa-arrow-up-right-from-square text-[10px]"></i></div>
                    <div class="text-xs text-gray-500 bg-gray-50 p-1.5 rounded">${item.note}</div>
                </div>`).join('');
            renderDailyExpenses();
        }
        function addExpenseFromPlan() {
            const desc = document.getElementById('quickExpDesc').value; const amt = document.getElementById('quickExpAmt').value; const curr = document.getElementById('quickExpCurr').value;
            if(!desc || !amt) return;
            const list = getStorage('trip_wallet_v14', []); list.push({ d: desc, a: amt, c: curr, date: tripData[curDay].date });
            saveStorage('trip_wallet_v14', list); document.getElementById('quickExpDesc').value = ''; document.getElementById('quickExpAmt').value = ''; renderDailyExpenses();
        }
        function renderDailyExpenses() {
            const list = getStorage('trip_wallet_v14', []).filter(i => i.date === tripData[curDay].date);
            const total = list.reduce((sum, item) => sum + Math.round(item.a * RATES[item.c]), 0);
            document.getElementById('dailyTotalDisplay').innerText = `NT$ ${total.toLocaleString()}`;
            document.getElementById('dailyExpenseList').innerHTML = list.length===0 ? '<div class="text-xs text-gray-300 text-center py-2">æœ¬æ—¥å°šç„¡ç´€éŒ„</div>' : list.map(item => `<div class="flex justify-between items-center border-b border-gray-100 py-1 last:border-0"><span class="truncate pr-2">${item.d}</span><div class="flex items-center gap-2 whitespace-nowrap"><span class="font-mono text-xs">${item.c==='KR'?'â‚©':'Â¥'}${item.a}</span><button onclick="delExpense('${item.date}', '${item.d}', ${item.a})" class="text-gray-300 hover:text-red-500 px-1"><i class="fa-solid fa-xmark"></i></button></div></div>`).join('');
        }
        function delExpense(date, desc, amt) { if(confirm('åˆªé™¤?')) { let list = getStorage('trip_wallet_v14', []); const idx = list.findIndex(i => i.date === date && i.d === desc && i.a == amt); if(idx > -1) { list.splice(idx, 1); saveStorage('trip_wallet_v14', list); renderDailyExpenses(); }}}

        // --- 2. Shopping ---
        function addShopItem() { const input = document.getElementById('shopInput'); if(!input.value.trim()) return; const list = getStorage('trip_shop_v14', []); list.push({id: Date.now(), txt: input.value, done: false}); saveStorage('trip_shop_v14', list); input.value = ''; renderShopList(); }
        function renderShopList() { const list = getStorage('trip_shop_v14', []); document.getElementById('shopList').innerHTML = list.map(i => `<div class="flex items-center bg-white p-2 border-b border-gray-100"><input type="checkbox" class="custom-checkbox mr-3" onchange="toggleShop(${i.id})" ${i.done?'checked':''}><div class="flex-1 text-sm ${i.done?'checked-item':''}">${i.txt}</div><button onclick="delShop(${i.id})" class="text-gray-300 hover:text-red-500 px-2"><i class="fa-solid fa-trash text-xs"></i></button></div>`).join(''); }
        function toggleShop(id) { const list = getStorage('trip_shop_v14', []); const item = list.find(i => i.id === id); if(item) item.done = !item.done; saveStorage('trip_shop_v14', list); renderShopList(); }
        function delShop(id) { const list = getStorage('trip_shop_v14', []).filter(i => i.id !== id); saveStorage('trip_shop_v14', list); renderShopList(); }
        
        function handleAddImage(type) { 
            const inputId = type === 'diary' ? 'diaryImgInput' : 'imgInput';
            const file = document.getElementById(inputId).files[0]; if(!file) return; 
            const reader = new FileReader(); 
            reader.onload = function(e) { 
                const img = new Image(); 
                img.onload = function() { 
                    const canvas = document.createElement('canvas'); const ctx = canvas.getContext('2d'); const maxWidth = 300; const scale = maxWidth / img.width; canvas.width = maxWidth; canvas.height = img.height * scale; ctx.drawImage(img, 0, 0, canvas.width, canvas.height); const base64 = canvas.toDataURL('image/jpeg', 0.7); 
                    if(type === 'shop') { 
                        const note = prompt("ç…§ç‰‡å‚™è¨» (å¯é¸):");
                        const list = getStorage('trip_shop_img_v14', []); 
                        list.push({id: Date.now(), src: base64, txt: note || "é»æ“Šç·¨è¼¯..."}); 
                        saveStorage('trip_shop_img_v14', list); 
                        renderShopImages(); 
                    } else { tempDiaryImg = base64; document.getElementById('dPreview').src = base64; document.getElementById('diaryImgPreview').classList.remove('hidden'); }
                }; img.src = e.target.result; 
            }; reader.readAsDataURL(file); 
        }
        function renderShopImages() { 
            const list = getStorage('trip_shop_img_v14', []); 
            document.getElementById('imageGrid').innerHTML = list.map(i => `
                <div class="photo-row">
                    <img src="${i.src}" class="photo-thumb" onclick="viewImage('${i.src}')">
                    <div class="flex-1 text-sm text-gray-600 font-bold px-2 cursor-pointer" onclick="editImgNote(${i.id})">${i.txt}</div>
                    <button class="text-gray-300 hover:text-red-500 px-2" onclick="delImage(${i.id})">âœ•</button>
                </div>
            `).join(''); 
        }
        function viewImage(src) { document.getElementById('zoomImg').src = src; document.getElementById('imgModal').classList.remove('hidden'); }
        function closeImgModal() { document.getElementById('imgModal').classList.add('hidden'); }
        function editImgNote(id) {
            const list = getStorage('trip_shop_img_v14', []); const item = list.find(i => i.id === id);
            const newTxt = prompt("ç·¨è¼¯å‚™è¨»:", item.txt); if(newTxt !== null) { item.txt = newTxt; saveStorage('trip_shop_img_v14', list); renderShopImages(); }
        }
        function delImage(id) { if(confirm('åˆªé™¤ç…§ç‰‡?')) { const list = getStorage('trip_shop_img_v14', []).filter(i => i.id !== id); saveStorage('trip_shop_img_v14', list); renderShopImages(); } }

        // --- 3,4. Traffic & Stay ---
        function renderBookings(type) {
            const list = bookings[type];
            document.getElementById(type+'List').innerHTML = list.map((b, i) => `
                <div class="sketch-box p-4 bg-white relative mt-3">
                    <div class="booking-tag">${type === 'traffic' ? 'äº¤é€š' : 'ä½å®¿'}</div>
                    <div class="absolute top-2 right-2">
                        <button onclick="openBookingModal('${type}', ${b.id})" class="text-gray-400 p-2"><i class="fa-solid fa-pen text-sm"></i></button>
                    </div>
                    <div class="font-bold text-lg mt-2">${b.title}</div>
                    <div class="text-sm font-bold text-gray-500">${b.sub}</div>
                    <div class="text-xs mt-2 bg-gray-50 p-2 rounded text-gray-600">${b.note}</div>
                </div>
            `).join('');
        }

        // --- 5. Diary ---
        function handleDiaryImg() { handleAddImage('diary'); }
        function clearDiaryImg() { tempDiaryImg = null; document.getElementById('diaryImgInput').value = ''; document.getElementById('diaryImgPreview').classList.add('hidden'); }
        function addDiary() {
            const txt = document.getElementById('diaryInput').value; if(!txt && !tempDiaryImg) return;
            const now = new Date(); const dateStr = `${now.getMonth()+1}/${now.getDate()} ${now.getHours()}:${now.getMinutes().toString().padStart(2,'0')}`;
            diary.unshift({id: Date.now(), time: dateStr, txt, img: tempDiaryImg});
            saveStorage('trip_diary_v14', diary);
            document.getElementById('diaryInput').value = ''; clearDiaryImg(); renderDiary();
        }
        function renderDiary() {
            document.getElementById('diaryList').innerHTML = diary.map(d => `
                <div class="sketch-box p-3 bg-pink-50 relative">
                    <div class="text-[10px] text-pink-400 font-bold mb-1">${d.time}</div>
                    <div class="text-sm text-gray-700 whitespace-pre-wrap">${d.txt}</div>
                    ${d.img ? `<img src="${d.img}" class="mt-2 rounded w-full border border-pink-200">` : ''}
                    <button onclick="delDiary(${d.id})" class="absolute top-2 right-2 text-pink-200 hover:text-pink-500"><i class="fa-solid fa-trash text-xs"></i></button>
                </div>
            `).join('');
        }
        function delDiary(id) { if(confirm('åˆªé™¤æ—¥è¨˜?')) { diary = diary.filter(d => d.id !== id); saveStorage('trip_diary_v14', diary); renderDiary(); }}

        // --- 6. Todo ---
        function addTodo() { const txt = document.getElementById('todoInput').value; if(!txt) return; todos.push({id:Date.now(), txt, done:false}); saveStorage('trip_todo_v14', todos); document.getElementById('todoInput').value=''; renderTodo(); }
        function renderTodo() { document.getElementById('todoList').innerHTML = todos.map(t => `<div class="flex items-center bg-white p-2 border-b border-gray-100"><input type="checkbox" class="custom-checkbox mr-3" onchange="toggleTodo(${t.id})" ${t.done?'checked':''}><div class="flex-1 text-sm ${t.done?'checked-item':''}">${t.txt}</div><button onclick="delTodo(${t.id})" class="text-gray-300 hover:text-red-500 px-2"><i class="fa-solid fa-trash text-xs"></i></button></div>`).join(''); }
        function toggleTodo(id) { const item = todos.find(t => t.id === id); if(item) item.done = !item.done; saveStorage('trip_todo_v14', todos); renderTodo(); }
        function delTodo(id) { todos = todos.filter(t => t.id !== id); saveStorage('trip_todo_v14', todos); renderTodo(); }

        // --- 7,8. Wallet/Translate ---
        function setCurrency(c) { curLang = c; curRate = RATES[c]; document.getElementById('currencySymbol').innerText = c === 'KR' ? 'â‚©' : 'Â¥'; document.getElementById('calcInput').value = ''; document.getElementById('calcResult').innerText = '0'; const bKR = document.getElementById('btn-calc-kr'), bJP = document.getElementById('btn-calc-jp'); if(c==='KR'){ bKR.classList.replace('text-gray-300','bg-blue-500'); bKR.classList.add('text-white'); bJP.className="text-xs px-3 py-1 rounded text-gray-300 transition-all"; } else { bJP.classList.replace('text-gray-300','bg-red-500'); bJP.classList.add('text-white'); bKR.className="text-xs px-3 py-1 rounded text-gray-300 transition-all"; } }
        function renderPhrases(lang) { curLang = lang; const list = phrases[lang]; document.getElementById('btn-lang-kr').className = lang==='KR' ? 'flex-1 py-1.5 rounded text-sm font-bold border bg-blue-100 text-blue-800' : 'flex-1 py-1.5 rounded text-sm font-bold border bg-white text-gray-400'; document.getElementById('btn-lang-jp').className = lang==='JP' ? 'flex-1 py-1.5 rounded text-sm font-bold border bg-red-100 text-red-800' : 'flex-1 py-1.5 rounded text-sm font-bold border bg-white text-gray-400'; document.getElementById('phraseList').innerHTML = list.map(p => `<div class="bg-white p-2 rounded border border-gray-200 shadow-sm flex justify-between items-center"><div><div class="text-[10px] text-gray-400 font-bold">${p.t}</div><div class="text-base font-bold text-gray-800">${p.o}</div></div><button onclick="quickTranslate('${p.o}')" class="text-gray-400 p-2"><i class="fa-solid fa-volume-high"></i></button></div>`).join(''); }
        function quickTranslate(txt) { const input = document.getElementById('transInput').value; const q = txt || input; if(!q) return; window.open(`https://translate.google.com/?sl=auto&tl=${curLang==='KR'?'ko':'ja'}&text=${encodeURIComponent(q)}&op=translate`, '_blank'); }
        
        // --- 9. INFO (COMPLETELY REWRITTEN & INDEPENDENT) ---
        function renderInfoList() { 
            document.getElementById('infoList').innerHTML = infoData.map((item, idx) => `
                <div class="sketch-box p-3 ${item.color || 'bg-white'} flex justify-between items-center" onclick="openDedicatedInfoModal(${idx})">
                    <div>
                        <div class="text-xs text-gray-500">${item.title}</div>
                        <div class="text-lg font-black text-gray-800">${item.text}</div>
                    </div>
                    <button onclick="event.stopPropagation(); deleteInfoItem(${idx})" class="text-gray-300 hover:text-red-500 px-2"><i class="fa-solid fa-trash text-xs"></i></button>
                </div>`).join(''); 
        }
        function openDedicatedInfoModal(idx = -1) {
            document.getElementById('infoModal').classList.remove('hidden');
            document.getElementById('infoIndex').value = idx;
            document.getElementById('infoTitle').innerText = idx === -1 ? "æ–°å¢ç­†è¨˜" : "ç·¨è¼¯ç­†è¨˜";
            document.getElementById('infoDelete').classList.toggle('hidden', idx === -1);
            
            if(idx !== -1) {
                const item = infoData[idx];
                document.getElementById('infoTitleInput').value = item.title;
                document.getElementById('infoContentInput').value = item.text;
            } else {
                document.getElementById('infoTitleInput').value = "";
                document.getElementById('infoContentInput').value = "";
            }
        }
        function saveInfo() {
            const idx = parseInt(document.getElementById('infoIndex').value);
            const title = document.getElementById('infoTitleInput').value;
            const text = document.getElementById('infoContentInput').value;
            if(!title) return;

            if(idx === -1) {
                infoData.push({ title, text, color: 'bg-white' });
            } else {
                infoData[idx].title = title;
                infoData[idx].text = text;
            }
            saveStorage('trip_info_v14_clean', infoData);
            renderInfoList();
            closeModal('infoModal');
        }
        function deleteInfoItem(idx) {
            if(confirm('åˆªé™¤?')) {
                infoData.splice(idx, 1);
                saveStorage('trip_info_v14_clean', infoData);
                renderInfoList();
            }
        }
        function deleteInfoModal() {
            const idx = parseInt(document.getElementById('infoIndex').value);
            deleteInfoItem(idx);
            closeModal('infoModal');
        }

        // --- Modals & Helpers ---
        function openEditModal(type, i=-1) {
            document.getElementById('editModal').classList.remove('hidden'); document.getElementById('editIndex').value = i;
            if(i===-1) { document.getElementById('modalTitle').innerText="æ–°å¢è¡Œç¨‹"; document.getElementById('btnDelete').classList.add('hidden'); document.getElementById('modalTime').value="09:00"; document.getElementById('modalAct').value=""; document.getElementById('modalNote').value=""; } 
            else { const item = tripData[curDay].items[i]; document.getElementById('modalTitle').innerText="ç·¨è¼¯è¡Œç¨‹"; document.getElementById('btnDelete').classList.remove('hidden'); document.getElementById('modalTime').value=item.time; document.getElementById('modalAct').value=item.act; document.getElementById('modalNote').value=item.note; }
        }
        function saveItem() { const idx = parseInt(document.getElementById('editIndex').value); const item = { time: document.getElementById('modalTime').value, act: document.getElementById('modalAct').value, note: document.getElementById('modalNote').value }; if(!item.act) return; if(idx===-1) tripData[curDay].items.push(item); else tripData[curDay].items[idx]=item; tripData[curDay].items.sort((a,b)=>a.time.localeCompare(b.time)); saveStorage('trip_data_v14', tripData); renderDaily(curDay); closeModal('editModal'); }
        function deleteItem() { const idx = parseInt(document.getElementById('editIndex').value); if(confirm('åˆªé™¤?')) { tripData[curDay].items.splice(idx,1); saveStorage('trip_data_v14', tripData); renderDaily(curDay); closeModal('editModal'); } }

        function openBookingModal(type, id) {
            document.getElementById('bookingModal').classList.remove('hidden'); 
            document.getElementById('bkType').value = type; document.getElementById('bkId').value = id;
            document.getElementById('bookingTitle').innerText = "ç·¨è¼¯è³‡è¨Š";
            document.getElementById('bkDelete').classList.toggle('hidden', id === -1);
            
            if(id !== -1) {
                const item = bookings[type].find(b => b.id === id);
                if(item) { document.getElementById('bkTitle').value = item.title; document.getElementById('bkSub').value = item.sub; document.getElementById('bkNote').value = item.note; }
            } else {
                document.getElementById('bkTitle').value = ""; document.getElementById('bkSub').value = ""; document.getElementById('bkNote').value = "";
            }
        }
        function saveBooking() {
            const type = document.getElementById('bkType').value; const id = parseInt(document.getElementById('bkId').value);
            const title = document.getElementById('bkTitle').value; const sub = document.getElementById('bkSub').value; const note = document.getElementById('bkNote').value;
            if(!title) return;

            if(id === -1) bookings[type].push({id: Date.now(), title, sub, note});
            else { const b = bookings[type].find(b => b.id === id); if(b) { b.title = title; b.sub = sub; b.note = note; } }
            saveStorage('trip_'+type+'_v14', bookings[type]); renderBookings(type);
            closeModal('bookingModal');
        }
        function deleteBooking() {
            const type = document.getElementById('bkType').value; const id = parseInt(document.getElementById('bkId').value);
            if(confirm('åˆªé™¤?')) { bookings[type] = bookings[type].filter(b => b.id !== id); saveStorage('trip_'+type+'_v14', bookings[type]); renderBookings(type); closeModal('bookingModal'); }
        }

        function closeModal(id) { document.getElementById(id).classList.add('hidden'); }
        function openMap(key, country) { const cleanKey = key.split(/[(ï¼ˆ]/)[0]; window.open(country === 'KR' ? `https://map.naver.com/p/search/${cleanKey}` : `https://www.google.com/maps/search/?api=1&query=${cleanKey}`, '_blank'); }
        async function fetchWeather(lat, lon, city) { document.getElementById('w-city').innerText = city; document.getElementById('w-desc').innerText = 'æ›´æ–°ä¸­'; document.getElementById('weatherBoard').classList.remove('hidden'); try { const r = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`); const d = await r.json(); document.getElementById('w-temp').innerText = Math.round(d.current_weather.temperature); document.getElementById('w-desc').innerText = 'å³æ™‚'; } catch(e){ document.getElementById('w-desc').innerText = 'é›¢ç·š'; } }
        function getStorage(k, d) { return JSON.parse(localStorage.getItem(k)) || JSON.parse(JSON.stringify(d)); }
        function saveStorage(k, v) { localStorage.setItem(k, JSON.stringify(v)); }
        function switchTab(id) { document.querySelectorAll('.tab-content').forEach(e => e.classList.remove('active')); document.getElementById(id).classList.add('active'); document.querySelectorAll('.nav-btn').forEach(b => { b.classList.remove('text-gray-800'); b.classList.add('text-gray-400'); }); event.currentTarget.classList.remove('text-gray-400'); event.currentTarget.classList.add('text-gray-800'); window.scrollTo(0,0); }
        function resetData() { if(confirm('é‡ç½®è³‡æ–™?')) { localStorage.clear(); location.reload(); } }

        init();
    </script>
</body>
</html>
