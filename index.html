<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 å®¶æ—æ—…è¡Œæ‰‹å†Š</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #FFF5F7; }
        .glass { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 24px; }
        .gradient-header { background: linear-gradient(135deg, #FF9A9E 0%, #FAD0C4 100%); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .nav-item.active { color: #F472B6; transform: scale(1.1); }
        input, textarea { border-radius: 12px; border: 1px solid #FFD1D9; padding: 10px; width: 100%; margin-bottom: 10px; }
        .timeline-line::before { content: ""; position: absolute; left: 20px; top: 0; bottom: 0; width: 2px; background: #FFD1D9; }
    </style>
</head>
<body class="pb-24">

    <div class="gradient-header p-6 text-white rounded-b-[3rem] shadow-lg sticky top-0 z-50 text-center">
        <h1 id="page-title" class="text-xl font-black tracking-widest">PLAN è¡Œç¨‹è¡¨</h1>
        <p class="text-[10px] opacity-80 uppercase">Busan & Fukuoka 2026</p>
    </div>

    <main class="p-4">
        <section id="plan" class="tab-content active space-y-4">
            
            <div class="glass p-4 border-l-8 border-pink-400 shadow-sm">
                <h2 class="font-bold text-pink-600 mb-2 text-sm"><i class="fas fa-plane mr-2"></i>èˆªç­è³‡è¨Š</h2>
                <div class="text-xs space-y-1 text-gray-600 font-medium">
                    <p>å»ç¨‹ï¼š2026/02/14 å¾…å®š (æ—©ç­æ©Ÿ)</p>
                    <p>å›ç¨‹ï¼š2026/02/21 å¾…å®š (æ™šç­æ©Ÿ)</p>
                </div>
            </div>

            <div class="glass p-4 border-l-8 border-blue-400 shadow-sm">
                <h2 class="font-bold text-blue-600 mb-3 text-sm"><i class="fas fa-hotel mr-2"></i>ä½å®¿é å®š</h2>
                <div class="text-sm text-gray-600">
                    <a href="https://map.naver.com/p/search/Queens%20Hotel%20Seomyeon" target="_blank" class="active:opacity-50">
                        <p class="font-black text-gray-800 text-lg underline decoration-blue-200 underline-offset-4 flex items-center">
                            Queens Hotel Seomyeon
                            <span class="ml-2 text-[10px] bg-blue-100 text-blue-600 px-2 py-0.5 rounded">åœ°åœ–å°èˆª <i class="fas fa-external-link-alt"></i></span>
                        </p>
                    </a>
                    <p class="mt-1 text-xs opacity-70">ğŸ“ 56 Bujeon-ro, Busanjin-gu, Busan</p>
                    
                    <div class="mt-3 pt-3 border-t border-blue-50">
                        <p class="font-bold text-gray-800">2/16: New Camellia æ–°å±±èŒ¶èŠ±è™Ÿ</p>
                        <p class="text-xs opacity-70 italic">é‡œå±±æ¸¯åœ‹éš›å®¢é‹ç¢¼é ­ç™»èˆ¹</p>
                    </div>
                </div>
            </div>

            <div class="relative timeline-line space-y-6 pt-2">
                <div class="relative pl-12">
                    <div class="absolute left-2 w-8 h-8 bg-pink-500 rounded-full border-4 border-white flex items-center justify-center text-white text-[10px] font-black z-10 shadow-md">D1</div>
                    <div class="glass p-4 shadow-sm">
                        <h3 class="font-black text-gray-800">2/14 (å…­) è¥¿é¢èˆ‡æƒ…äººç¯€</h3>
                        <div class="text-xs text-gray-500 space-y-2 mt-2">
                            <p class="flex items-center"><i class="far fa-clock mr-2 text-pink-400"></i>06:10 æŠµé”é‡‘æµ·æ©Ÿå ´</p>
                            <p class="flex items-center font-bold text-pink-600"><i class="fas fa-shopping-cart mr-2"></i>è¥¿é¢åœ°ä¸‹è¡— (Daiso, Olive Young)</p>
                            <p class="flex items-center"><i class="fas fa-utensils mr-2 text-pink-400"></i>18:00 æ¨‚å¤©ç™¾è²¨æˆ–çƒ¤è‚‰æ™šé¤</p>
                        </div>
                    </div>
                </div>

                <div class="relative pl-12">
                    <div class="absolute left-2 w-8 h-8 bg-indigo-500 rounded-full border-4 border-white flex items-center justify-center text-white text-[10px] font-black z-10 shadow-md">D3</div>
                    <div class="glass p-4 shadow-sm">
                        <h3 class="font-black text-gray-800">2/16 (ä¸€) é‡œå±±æœ€å¾Œå·¡ç¦®</h3>
                        <div class="text-xs text-gray-500 space-y-3 mt-2">
                            <a href="https://map.naver.com/p/search/Gamcheon%20Culture%20Village" target="_blank" class="block bg-indigo-50 p-2 rounded-lg border border-indigo-100 active:scale-95 transition-transform">
                                <p class="font-bold text-indigo-600 flex items-center justify-between">
                                    09:30 ç”˜å·æ´æ–‡åŒ–æ‘ <i class="fas fa-map-marked-alt text-lg"></i>
                                </p>
                                <p class="text-[10px] mt-1 italic">è¨ˆç¨‹è»Šè»Šè³‡ç´„ â‚©9,000</p>
                            </a>
                            <p><i class="fas fa-store mr-2 text-indigo-400"></i>11:30 å¯Œå¹³ç½é ­å¸‚å ´</p>
                            <p class="font-black text-gray-800 border-t pt-2 flex items-center"><i class="fas fa-ship mr-2 text-blue-500"></i>19:00 é‡œå±±æ¸¯ç™»èˆ¹</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="wallet" class="tab-content space-y-4">
            <div class="glass p-5 shadow-sm bg-white/95">
                <h2 class="font-black text-pink-600 mb-4 text-center text-xs tracking-widest">åŒ¯ç‡è¨ˆç®— (KRW âœ TWD)</h2>
                <input type="text" id="calc-input" placeholder="è¼¸å…¥é‡‘é¡ï¼Œå¦‚ 9000" class="bg-pink-50/50 text-center font-bold text-lg focus:outline-pink-200">
                <button onclick="calculateCurrency()" class="w-full bg-pink-500 text-white font-black py-4 rounded-2xl shadow-lg active:scale-95 transition-all">æ›ç®—æˆå°å¹£</button>
                <p id="calc-result" class="text-center text-3xl font-black text-rose-500 mt-5">NT$ 0</p>
            </div>
            
            <div class="glass p-5 shadow-sm">
                <h3 class="font-bold text-gray-600 mb-4 text-sm tracking-tight">ğŸ“ å¿«é€Ÿè¨˜å¸³</h3>
                <input type="text" id="exp-name" placeholder="å“é … (ä¾‹å¦‚ï¼šè‰è“ç³–é¤…)">
                <input type="number" id="exp-amount" placeholder="éŸ“å…ƒé‡‘é¡">
                <input type="file" id="exp-img" accept="image/*" class="text-[10px] text-gray-400 mt-2">
                <button onclick="saveExpense()" class="w-full bg-gray-800 text-white font-bold py-3 rounded-2xl mt-4">å„²å­˜ç´€éŒ„</button>
            </div>
            <div id="expense-list" class="space-y-3"></div>
        </section>

        </main>

    <nav class="fixed bottom-6 left-6 right-6 h-18 glass shadow-2xl flex justify-around items-center px-2 z-50 border border-white/50">
        <button onclick="showTab('plan', 'PLAN è¡Œç¨‹è¡¨')" class="nav-item active flex flex-col items-center"><i class="fas fa-map-marked-alt text-xl"></i><span class="text-[9px] font-black mt-1 uppercase">Plan</span></button>
        <button onclick="showTab('wallet', 'WALLET è¨˜å¸³')" class="nav-item flex flex-col items-center"><i class="fas fa-piggy-bank text-xl"></i><span class="text-[9px] font-black mt-1 uppercase">Wallet</span></button>
        <button onclick="showTab('lists', 'LISTS æ¸…å–®')" class="nav-item flex flex-col items-center"><i class="fas fa-clipboard-list text-xl"></i><span class="text-[9px] font-black mt-1 uppercase">Lists</span></button>
    </nav>

    <script>
        const KRW_TO_TWD = 0.024; 
        function showTab(tabId, title) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            document.getElementById('page-title').innerText = title;
            event.currentTarget.classList.add('active');
            window.scrollTo({top: 0, behavior: 'smooth'});
        }
        function calculateCurrency() {
            try {
                const total = eval(document.getElementById('calc-input').value.replace(/[^-()\d/*+.]/g, ''));
                document.getElementById('calc-result').innerText = `NT$ ${Math.round(total * KRW_TO_TWD)}`;
            } catch (e) { alert("è«‹è¼¸å…¥æ•¸å­—æˆ–æ­£ç¢ºç®—å¼"); }
        }
        async function saveExpense() {
            const name = document.getElementById('exp-name').value;
            const amount = document.getElementById('exp-amount').value;
            const file = document.getElementById('exp-img').files[0];
            if(!name || !amount) return alert("è«‹å¡«å¯«å“é …èˆ‡é‡‘é¡");
            let imgBase64 = "";
            if (file) imgBase64 = await compressImage(file);
            const expense = { name, amount, img: imgBase64, date: new Date().toLocaleDateString() };
            let history = JSON.parse(localStorage.getItem('expenses') || '[]');
            history.unshift(expense);
            localStorage.setItem('expenses', JSON.stringify(history));
            renderExpenses();
            document.getElementById('exp-name').value = '';
            document.getElementById('exp-amount').value = '';
        }
        function compressImage(file) {
            return new Promise((resolve) => {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = (e) => {
                    const img = new Image();
                    img.src = e.target.result;
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        const scale = 120 / img.width;
                        canvas.width = 120; canvas.height = img.height * scale;
                        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                        resolve(canvas.toDataURL('image/jpeg', 0.6));
                    };
                };
            });
        }
        function renderExpenses() {
            const list = document.getElementById('expense-list');
            const history = JSON.parse(localStorage.getItem('expenses') || '[]');
            list.innerHTML = history.map(h => `
                <div class="glass p-3 flex items-center justify-between shadow-sm border-white/60">
                    <div class="flex items-center gap-3">
                        ${h.img ? `<img src="${h.img}" class="w-12 h-12 rounded-xl object-cover">` : `<div class="w-12 h-12 bg-pink-50 rounded-xl flex items-center justify-center text-[8px] text-pink-200">NO IMG</div>`}
                        <div><p class="font-bold text-sm text-gray-700">${h.name}</p><p class="text-[9px] text-gray-400 font-bold tracking-tighter">${h.date}</p></div>
                    </div>
                    <div class="text-right">
                        <p class="text-sm font-black text-rose-500">â‚©${Number(h.amount).toLocaleString()}</p>
                        <p class="text-[10px] text-gray-400 font-bold">â‰ˆ NT$ ${Math.round(h.amount * KRW_TO_TWD)}</p>
                    </div>
                </div>
            `).join('');
        }
        window.onload = () => {
            renderExpenses();
            const items = ['è­·ç…§/ç°½è­‰æ­£æœ¬', 'æ—¥å¹£/éŸ“å…ƒç¾é‡‘', 'WOWPASS/äº¤é€šå¡', 'ç¶²å¡/Wi-Fiæ©Ÿ', 'è¡Œå‹•é›»æº+å……é›»é ­', 'å€‹äººè—¥å“/æšˆèˆ¹è—¥'];
            document.getElementById('checklist-items').innerHTML = items.map(item => `
                <label class="flex items-center gap-3 p-4 bg-white/50 rounded-2xl border border-pink-50/50 shadow-sm active:bg-pink-100 transition-colors">
                    <input type="checkbox" class="w-5 h-5 rounded-full accent-pink-500"> <span class="text-sm font-bold text-gray-600">${item}</span>
                </label>
            `).join('');
        };
    </script>
</body>
</html>
